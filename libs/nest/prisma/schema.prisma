generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["views"]
  binaryTargets   = ["native", "debian-openssl-1.1.x", "debian-openssl-3.0.x", "linux-musl", "linux-musl-openssl-3.0.x", "linux-arm64-openssl-1.1.x"]
}

generator zod {
  provider                         = "zod-prisma-types"
  output                           = "../src/validation/generated"
  useDefaultValidators             = "false"
  writeBarrelFiles                 = "false"
  coerceDate                       = "false"
  addIncludeType                   = "false"
  addSelectType                    = "false"
  validateWhereUniqueInput         = "false"
  createRelationValuesTypes        = "false"
  createOptionalDefaultValuesTypes = "false"
  addInputTypeValidation           = "false"
  createModelTypes                 = "true"
  createPartialTypes               = "false"
  createInputTypes                 = "false"
  useMultipleFiles                 = "true"
  writeNullishInModelTypes         = "false"
}

/// this is a test line this is

datasource db {
  provider          = "postgresql"
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
}

/// @namespace Actions
/// @erd action_templates
/// @erd actions
/// @describe Action Templates are a way to define a set of actions that can be taken by a user in the app.  Action Templates are then used to create Actions that are specific to an organization.
/// @zod.import(["import { ActionTemplateSchema } from '../../custom'"])
model action_templates {
  /// @zod.custom.use(z.string().uuid())
  id         String    @id @default(uuid())
  /// @zod.custom.use(ActionTemplateSchema)
  template   Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at DateTime  @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at DateTime  @default(now()) @updatedAt
  actions    actions[]
}

/// @namespace Actions
/// @erd organizations
/// @erd action_templates
/// @erd actions
/// @describe *Actions* are defined by an *Action Template* and are specific to an organization.
/// @zod.import(["import { ActionTemplateSchema } from '../../custom'"])
model actions {
  /// @zod.custom.use(z.string().uuid())
  id                 String           @id @default(uuid())
  /// @zod.custom.use(ActionTemplateSchema)
  action             Json
  /// @zod.custom.use(z.string().uuid())
  action_template_id String
  /// @zod.custom.use(z.string().uuid())
  organization_id    String
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at         DateTime         @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at         DateTime         @updatedAt
  action_template    action_templates @relation(fields: [action_template_id], references: [id], onDelete: Cascade)
  organization       organizations    @relation(fields: [organization_id], references: [id], onDelete: Cascade)
}

/// @namespace News
/// @describe News is a way to share climate information with users of the app.
model news {
  /// @zod.custom.use(z.string().uuid())
  id           String   @id @default(uuid())
  title        String
  /// @zod.custom.use(z.string().url())
  url          String
  /// @zod.custom.use(z.string().url())
  image_url    String
  published_at DateTime
  source_name  String
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at   DateTime @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at   DateTime @updatedAt
  publish      Boolean  @default(false)
}

/// @namespace Component Definitions
/// @describe Component definitions describe how a component should be rendered in the UI
model component_definitions {
  /// @DtoReadOnly
  /// #DtoHide
  /// @zod.custom.use(z.string().uuid())
  id          String                     @id @default(uuid())
  name        String                     @unique
  type        component_definition_types
  /// @zod.custom.use(z.string())
  description String
  definition  Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at  DateTime                   @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at  DateTime                   @updatedAt

  @@index([name], map: "component_definitions_name_idx1")
}

/// @namespace Policies
/// @describe Policy Definitions are a set of content policies (ie: Privacy & ToS)
/// @erd policy_data
model policy_definitions {
  /// @zod.custom.use(z.number().int().positive())
  id          Int           @id @default(autoincrement())
  name        String
  definition  String
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at  DateTime      @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at  DateTime      @updatedAt
  policy_data policy_data[]
}

/// @namespace Policies
/// @describe Policy Definitions are a set of content policies (ie: Privacy & ToS)
/// @erd policy_definitions
model policy_data {
  /// @zod.custom.use(z.string().email())
  email             String
  /// @zod.custom.use(z.number().int().positive())
  policy_id         Int
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at        DateTime           @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at        DateTime           @updatedAt
  id                Int                @id @default(autoincrement())
  policy_definition policy_definitions @relation(fields: [policy_id], references: [id], onDelete: Cascade)

  @@unique([email, id])
}

/// @namespace Surveys
/// @erd survey_data
/// @erd organizations
/// @zod.import(["import { SurveyDefinitionSchema } from '../../custom'"])
model survey_definitions {
  /// @zod.custom.use(z.string().uuid())
  id            String          @id @default(uuid())
  name          String          @unique
  /// @z.enum()
  type          survey_types
  description   String
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at    DateTime        @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at    DateTime        @updatedAt
  /// @zod.custom.use(SurveyDefinitionSchema)
  definition    Json
  survey_data   survey_data[]
  survey_status survey_status[]

  @@index([name], map: "survey_definitions_name_idx1")
}

/// @namespace Surveys
/// @erd organizations
/// @zod.import(["import { SurveyDefinitionSchema } from '../../custom'"])
model survey_data {
  /// @zod.custom.use(z.string().uuid())
  id                   String             @id @unique @default(uuid())
  /// @zod.custom.use(z.string().uuid())
  organization_id      String
  /// @zod.custom.use(SurveyDefinitionSchema.optional())
  data                 Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at           DateTime           @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at           DateTime           @updatedAt
  /// @zod.custom.use(z.string().uuid())
  survey_definition_id String
  organizations        organizations      @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  survey_definition    survey_definitions @relation(fields: [survey_definition_id], references: [id], onDelete: Cascade)
  survey_status        survey_status[]

  @@unique([organization_id, survey_definition_id], name: "orgSurveyKey")
  @@index([survey_definition_id])
  @@index([survey_definition_id], map: "survey_data_survey_definition_id_idx1")
  @@index([organization_id], map: "survey_data_organization_id_idx1")
}

/// @namespace Survey Status
/// @erd survey_status
model survey_status {
  /// @zod.custom.use(z.string().uuid())
  id                String              @id @default(uuid())
  survey_id         String
  survey_name       String
  survey_data_id    String
  organization_id   String
  status            survey_status_types
  created_at        DateTime            @default(now())
  updated_at        DateTime            @updatedAt
  email             String
  organization      organizations       @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  survey_data       survey_data         @relation(fields: [survey_data_id], references: [id], onDelete: Cascade)
  survey_definition survey_definitions  @relation(fields: [survey_id], references: [id], onDelete: Cascade)

  @@index([organization_id])
  @@index([organization_id], map: "survey_status_organization_id_idx1")
  @@index([survey_id], map: "survey_status_survey_id_idx1")
  @@index([survey_data_id], map: "survey_status_survey_data_id_idx1")
  @@index([survey_name], map: "survey_status_survey_name_idx1")
}

/// @namespace Categories
/// @erd category_data
/// @erd organizations
/// @zod.import(["import { CategoryDefinitionSchema } from '../../custom'"])
model category_definitions {
  /// @zod.custom.use(z.string().uuid())
  id            String          @id @default(uuid())
  name          String          @unique
  description   String
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at    DateTime        @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at    DateTime        @updatedAt
  /// @zod.custom.use(CategoryDefinitionSchema)
  definition    Json
  category_data category_data[]
}

/// @namespace Categories
/// @erd category_definitions
/// @erd organizations
/// @zod.import(["import { CategoryDefinitionSchema } from '../../custom'"])
model category_data {
  id                     String               @id @unique @default(uuid())
  /// @zod.custom.use(z.string().uuid())
  category_definition_id String
  /// @zod.custom.use(z.string().uuid())
  organization_id        String
  /// @zod.custom.use(CategoryDefinitionSchema.optional())
  data                   Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at             DateTime             @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at             DateTime             @updatedAt
  category_definition    category_definitions @relation(fields: [category_definition_id], references: [id], onDelete: Cascade)
  organizations          organizations        @relation(fields: [organization_id], references: [id], onDelete: Cascade)

  @@index([organization_id], map: "category_data_organization_id_idx1")
  @@index([category_definition_id], map: "category_data_category_definition_id_idx1")
}

/// @namespace Organizations
/// @erd organization_facilities
/// @erd survey_data
/// @zod.import(["import { organization_facilitiesSchema } from '../../custom'"])
/// @actions
model organizations {
  /// @zod.custom.use(z.string().uuid())
  id                                                String                                              @id
  name                                              String                                              @unique
  enabled_connections                               Json
  display_name                                      String
  branding                                          Json?
  phone                                             String?
  /// @zod.custom.use(z.string().email())
  email                                             String?
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at                                        DateTime                                            @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at                                        DateTime                                            @updatedAt
  isTest                                            Boolean                                             @default(false)
  website                                           String?
  deleted                                           Boolean                                             @default(false)
  actions                                           actions[]
  category_data                                     category_data[]
  integrations                                      integrations[]
  organization_compliance                           organization_compliance[]
  organization_compliance_ai_response_files         organization_compliance_ai_response_files[]
  organization_compliance_ai_responses              organization_compliance_ai_responses[]
  organization_compliances_old                      organization_compliances_old[]
  facilities                                        organization_facilities[]
  organization_files                                organization_files[]
  survey_data                                       survey_data[]
  survey_status                                     survey_status[]
  utility_bills                                     utility_bills[]
  vector_records                                    vector_records[]
  facility_footprints                               facility_footprints[]
  compliance_responses                              compliance_responses[]
  metadata                                          Json?
  sustainability_attributes                         sustainability_attributes[]
  attribute_assurances                              attribute_assurances[]
  products                                          products[]
  materials                                         materials[]
  material_suppliers                                material_suppliers[]
  product_materials                                 product_materials[]
  sustainability_attribute_classifcation_assignment sustainability_attribute_classifcation_assignment[]
  material_tags                                     material_tags[]
  material_tag_assignments                          material_tag_assignments[]
  product_tag_assignments                           product_tag_assignments[]
  products_tags                                     products_tags[]

  @@index([name], map: "organizations_name_idx1")
}

/// @namespace Organization_Facilities
/// @erd utility_bills
/// @erd integrations
/// @erd emissions
/// @erd organizations
/// @zod.import(["import { organization_facilitiesSchema } from '../../custom'"])
/// @actions
model organization_facilities {
  id                   String                 @id @default(cuid())
  organization_id      String
  name                 String
  city                 String?
  country              String?
  created_at           DateTime?              @default(now())
  updated_at           DateTime?              @updatedAt
  address_line_2       String?
  postal_code          String?
  deleted              Boolean?               @default(false)
  metadata             Json?
  state_province       String?
  address_line_1       String?
  supplier_tier        Int?
  category             String?
  subcategory          String?
  brand_facility_id    String?
  supplier             Boolean?               @default(false)
  emissions            emissions[]
  integrations         integrations[]
  organization         organizations          @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  utility_bills        utility_bills[]
  product_suppliers    suppliers_view[]
  attribute_assurances attribute_assurances[]
  material_suppliers   material_suppliers[]
  products             products[]

  @@unique([organization_id, name], name: "orgFacilityName")
  @@index([organization_id], map: "organization_facilities_organization_id_idx1")
}

model service_definitions {
  id                  String                   @id @default(uuid())
  name                String                   @unique
  label               String
  definition          Json
  created_at          DateTime                 @default(now())
  updated_at          DateTime                 @updatedAt
  type                integration_service_type
  integrations        integrations[]
  supported_utilities supported_utilities[]
}

/// @namespace Integrations
/// @describe Integrations are a way to connect to external services
/// @erd integrations
model integrations {
  /// @zod.custom.use(z.string().uuid())
  id                    String                   @id @default(uuid())
  service_definition_id String
  /// @zod.custom.use(z.string().uuid())
  organization_id       String
  metadata              Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at            DateTime                 @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at            DateTime                 @updatedAt
  facility_id           String?
  deleted               Boolean                  @default(false)
  emissions             emissions[]
  facility              organization_facilities? @relation(fields: [facility_id], references: [id], onDelete: Cascade)
  organization          organizations            @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  service_definition    service_definitions      @relation(fields: [service_definition_id], references: [id], onDelete: Cascade)
  files                 organization_files[]
  unility_bills         utility_bills[]

  @@unique([service_definition_id, facility_id], name: "integrationKey")
  @@index([organization_id], map: "integrations_organization_id_idx1")
}

/// @namespace Supported Utilities
/// @describe List of supported utilities for a given service definition
/// @erd supported_utilities
model supported_utilities {
  /// @zod.custom.use(z.string().cuid())
  id                    String              @id @unique @default(cuid())
  /// @zod.custom.use(z.string().uuid())
  service_definition_id String
  /// @zod.custom.use(z.string())
  name                  String              @unique
  /// @zod.custom.use(z.string())
  label                 String
  data                  Json
  /// @DtoUpdateHidden
  /// @zod.custom.use(z.date().optional())
  created_at            DateTime            @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at            DateTime            @updatedAt
  service_definition    service_definitions @relation(fields: [service_definition_id], references: [id], onDelete: Cascade)
}

/// @namespace Emissions
/// @describe List of emissions for a given organization
/// @erd emissions
model emissions {
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.string().uuid())
  id                      String                  @id @default(uuid())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  created_at              DateTime                @default(now())
  /// @DtoUpdateHidden
  /// @DtoCreateHidden
  /// @DtoReadOnly
  /// @zod.custom.use(z.date().optional())
  updated_at              DateTime                @updatedAt
  integration_id          String
  activity_data           Json
  integration_data        Json
  name                    String
  region                  String
  category                String
  co2e                    Float
  co2e_calculation_origin String
  co2e_unit               String
  emission_factor         Json
  co2_calculation_method  String
  constituent_gases       Json
  facility_id             String
  deleted                 Boolean                 @default(false)
  facility                organization_facilities @relation(fields: [facility_id], references: [id], onDelete: Cascade)
  integrations            integrations            @relation(fields: [integration_id], references: [id], onDelete: Cascade)
}

/// @namespace Utility Bills
/// @describe List of utility bills for a given organization and integration
/// @erd emissions
model utility_bills {
  id              String                  @id @default(cuid())
  integration_id  String
  period_from     DateTime
  period_to       DateTime
  data            Json
  created_at      DateTime                @default(now())
  updated_at      DateTime                @updatedAt
  organization_id String
  facility_id     String
  deleted         Boolean                 @default(false)
  facility        organization_facilities @relation(fields: [facility_id], references: [id], onDelete: Cascade)
  integration     integrations            @relation(fields: [integration_id], references: [id], onDelete: Cascade)
  organization    organizations           @relation(fields: [organization_id], references: [id], onDelete: Cascade)
}

model organization_files {
  bucket                                    String?
  key                                       String?
  original_name                             String
  organization_id                           String
  openai_assistant_id                       String?
  openai_file_id                            String?                                     @unique
  created_at                                DateTime                                    @default(now())
  updated_at                                DateTime                                    @updatedAt
  id                                        String                                      @id @default(cuid())
  integration_id                            String?
  mimetype                                  String?
  size                                      Int?
  acl                                       String?
  contentType                               String?
  encoding                                  String?
  fieldname                                 String?
  location                                  String?
  versionId                                 String?
  metadata                                  Json?
  checksum                                  String?
  deleted                                   Boolean                                     @default(false)
  openai_vector_store_id                    String?
  openai_vector_file_status                 String?
  type                                      file_types                                  @default(OTHER)
  visible                                   Boolean                                     @default(true)
  expires_at                                DateTime?
  effective_end_date                        DateTime?
  effective_start_date                      DateTime?
  organization_compliance_ai_response_files organization_compliance_ai_response_files[]
  organization_compliance_note_files        organization_compliance_note_files[]
  integration                               integrations?                               @relation(fields: [integration_id], references: [id], onDelete: Cascade)
  organization                              organizations                               @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  vector_records                            vector_records[]
  attribute_assurances                      attribute_assurances[]

  @@unique([organization_id, id], name: "orgFileId")
  @@unique([organization_id, openai_file_id], name: "openaiFileId")
  @@unique([organization_id, bucket, key], name: "s3Key")
  @@index([integration_id], map: "organization_files_integration_id_idx1")
}

model organization_compliances_old {
  id                    String                 @id @default(cuid())
  organization_id       String
  compliance_id         String
  created_at            DateTime               @default(now())
  updated_at            DateTime               @updatedAt
  surveys_override      Json?
  deleted               Boolean                @default(false)
  compliance_definition compliance_definitions @relation(fields: [compliance_id], references: [id], onDelete: Cascade)
  organization          organizations          @relation(fields: [organization_id], references: [id], onDelete: Cascade)

  @@unique([organization_id, compliance_id], name: "orgKeyCompKey")
  @@unique([organization_id, compliance_id], map: "organization_compliances_old_organization_id_compliance_id_idx")
  @@index([compliance_id], map: "organization_compliances_old_compliance_id_idx1")
}

model vector_records {
  id                   String              @id @default(cuid())
  metadata             Json
  created_at           DateTime            @default(now())
  updated_at           DateTime            @updatedAt
  organization_file_id String?
  organization_id      String
  url                  String?
  values               Json
  index_name           String
  namespace            String
  organization_file    organization_files? @relation(fields: [organization_file_id], references: [id], onDelete: Cascade)
  organization         organizations       @relation(fields: [organization_id], references: [id], onDelete: Cascade)

  @@index([organization_file_id], map: "vector_records_organization_file_id_idx1")
  @@index([organization_id], map: "vector_records_organization_id_idx1")
}

model emission_scopes {
  id                String   @id @default(cuid())
  label             String
  created_at        DateTime @default(now())
  updated_at        DateTime @updatedAt
  ghg_subcategory   Int?
  ghg_category      Int
  name              String
  subcategory_label String?
  deleted           Boolean  @default(false)

  @@unique([ghg_category, ghg_subcategory, name], name: "ghgCategoryName")
  @@unique([ghg_category, ghg_subcategory, label], name: "ghgCategoryLabel")
}

model facility_footprints {
  id              String   @id
  facility_id     String
  organization_id String
  created_at      DateTime @default(now())
  updated_at      DateTime
  emissions       Json
  type            String   @default("year")
  value           Int
  deleted         Boolean  @default(false)

  organization organizations @relation(fields: [organization_id], references: [id])

  @@unique([facility_id, type, value], name: "facilityFootprintKey")
  @@unique([facility_id, type, value], map: "facility_footprints_facility_id_type_value_idx1")
}

model sustainability_attributes {
  id                                                String                                              @id @default(dbgenerated("uuid_generate_v4()"))
  organization_id                                   String?
  name                                              String
  created_at                                        DateTime?                                           @default(now()) @db.Timestamptz(6)
  updated_at                                        DateTime?                                           @updatedAt @db.Timestamptz(6)
  deleted                                           Boolean                                             @default(false)
  level                                             claim_levels
  type                                              claim_types
  logo_url                                          String?
  material_classification_id                        Int?
  material_classification                           material_classification?                            @relation(fields: [material_classification_id], references: [id])
  organization                                      organizations?                                      @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  metadata                                          Json?
  attribute_assurances                              attribute_assurances[]
  sustainability_attribute_classifcation_assignment sustainability_attribute_classifcation_assignment[]

  @@unique([organization_id, name], name: "orgIdName")
  @@index([organization_id], map: "sustainability_attributes_organization_id_idx1")
  @@index([level], map: "sustainability_attributes_level_idx1")
  @@index([type], map: "sustainability_attributes_type_idx1")
  @@index([material_classification_id], map: "sustainability_attributes_material_classification_id_idx1")
}

model attribute_assurances {
  id                          String                     @id @default(dbgenerated("uuid_generate_v4()"))
  organization_facility_id    String?
  organization_id             String
  sustainability_attribute_id String
  material_id                 String?
  product_id                  String?
  organization_file_id        String?
  effective_start_date        DateTime?
  effective_end_date          DateTime?
  created_at                  DateTime?                  @default(now()) @db.Timestamptz(6)
  updated_at                  DateTime?                  @updatedAt @db.Timestamptz(6)
  organization                organizations              @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  organization_files          organization_files?        @relation(fields: [organization_file_id], references: [id])
  material                    materials?                 @relation(fields: [material_id], references: [id])
  product                     products?                  @relation(fields: [product_id], references: [id])
  supplier                    organization_facilities?   @relation(fields: [organization_facility_id], references: [id])
  sustainability_attribute    sustainability_attributes? @relation(fields: [sustainability_attribute_id], references: [id], onDelete: Cascade)

  @@index([organization_id], map: "attribute_assurances_organization_id_idx1")
  @@index([organization_file_id], map: "attribute_assurances_organization_file_id_idx1")
  @@index([sustainability_attribute_id], map: "attribute_assurances_attribute_id_idx1")
  @@index([organization_facility_id])
  @@index([product_id], map: "attribute_assurances_product_id_idx1")
  @@index([material_id], map: "attribute_assurancess_material_id_idx1")
}

model products {
  id                      String                    @id @default(cuid())
  name                    String
  created_at              DateTime?                 @default(now()) @db.Timestamptz(6)
  updated_at              DateTime?                 @updatedAt @db.Timestamptz(6)
  deleted                 Boolean?                  @default(false)
  organization_id         String
  plm_id                  String?
  description             String?
  product_category        String?
  product_subcategory     String?
  metadata                Json?
  gender                  String?
  season_code             String?
  upc_code                String?
  brand_product_sku       String?
  brand_product_id        String?
  supplier_product_id     String?
  supplier_id             String?
  style_code              String?
  emission_stats          Json?
  weight                  Float?
  materials               product_materials[]
  organization            organizations             @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  supplier                organization_facilities?  @relation(fields: [supplier_id], references: [id], onDelete: Cascade)
  attribute_assurances    attribute_assurances[]
  product_tag_assignments product_tag_assignments[]

  @@unique([organization_id, upc_code, name], name: "orgIdNameUpc")
  @@unique([organization_id, name], name: "orgIdName")
  @@index([product_category], map: "brand_category_idx1")
  @@index([product_subcategory], map: "brand_subcategory_idx1")
  @@index([brand_product_id], map: "brand_product_id_idx1")
  @@index([brand_product_sku], map: "brand_product_sku_idx1")
  @@index([supplier_product_id], map: "supplier_product_id_idx1")
  @@index([organization_id], map: "products_organization_id_idx1")
  @@index([supplier_id], map: "products_supplier_id_idx1")
  @@index([name], map: "products_name_idx1")
  @@index([plm_id], map: "products_plm_id_idx1")
}

model core_classifications {
  id         Int      @id @default(autoincrement())
  name       String
  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  material_classification material_classification[]
}

model material_classification {
  id                                                Int                                                 @id @default(autoincrement())
  name                                              String
  category                                          String
  created_at                                        DateTime                                            @default(now())
  updated_at                                        DateTime                                            @updatedAt
  materials                                         materials[]
  core_classification_id                            Int?
  core_classification                               core_classifications?                               @relation(fields: [core_classification_id], references: [id], onDelete: Cascade)
  sustainability_attributes                         sustainability_attributes[]
  sustainability_attribute_classifcation_assignment sustainability_attribute_classifcation_assignment[]

  @@unique([category, name], name: "categoryName")
  @@index([category], map: "material_classification_category_idx1")
  @@index([name], map: "material_classification_name_idx1")
}

model sustainability_attribute_classifcation_assignment {
  id                          Int      @id @default(autoincrement())
  organization_id             String
  created_at                  DateTime @default(now())
  updated_at                  DateTime @updatedAt
  metadata                    Json
  sustainability_attribute_id String
  material_classification_id  Int

  sustainability_attribute sustainability_attributes @relation(fields: [sustainability_attribute_id], references: [id], onDelete: Cascade)
  material_classification  material_classification   @relation(fields: [material_classification_id], references: [id], onDelete: Cascade)
  organization             organizations             @relation(fields: [organization_id], references: [id], onDelete: Cascade)

  @@index([organization_id], map: "classification_organization_id_idx1")
  @@index([sustainability_attribute_id], map: "classification_assignment_sustainability_attribute_id_idx1")
  @@index([material_classification_id], map: "classification_assignment_material_classification_id_idx1")
}

model materials {
  id                         String                     @id @default(cuid())
  name                       String
  created_at                 DateTime?                  @default(now()) @db.Timestamptz(6)
  updated_at                 DateTime?                  @updatedAt @db.Timestamptz(6)
  deleted                    Boolean?                   @default(false)
  organization_id            String
  brand_material_id          String?
  supplier_material_id       String?
  description                String?
  ai_description             String?
  material_suppliers         material_suppliers[]
  material_category          String?
  material_subcategory       String?
  organization_facility_id   String?
  emissions_factor           Float?
  activity_id                String?
  metadata                   Json?
  organization               organizations              @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  attribute_assurances       attribute_assurances[]
  product_materials          product_materials[]
  data_source                String?
  material_classification    material_classification?   @relation(fields: [material_classification_id], references: [id])
  material_classification_id Int?
  emission_stats             Json?
  material_tag_assignments   material_tag_assignments[]

  @@unique([organization_id, name], name: "orgIdName")
  @@index([organization_id], map: "materials_organization_id_idx1")
  @@index([material_classification_id], map: "materials_material_classification_id_idx1")
  @@index([name], map: "materials_name_idx1")
}

model material_tag_assignments {
  id              Int      @id @default(autoincrement())
  material_id     String
  tag_id          Int
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt
  organization_id String

  organization organizations @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  material     materials     @relation(fields: [material_id], references: [id], onDelete: Cascade)

  @@index([organization_id], map: "material_tag_assignments_organization_id_idx1")
  @@index([material_id], map: "material_tag_assignments_material_id_idx1")
}

model material_tags {
  id              Int      @id @default(autoincrement())
  organization_id String
  tag             String
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt

  organization organizations @relation(fields: [organization_id], references: [id], onDelete: Cascade)

	@@unique([organization_id, tag], name: "organization_material_tag_unique")
	@@index([organization_id], map: "material_tags_organization_id_idx1")
}

model material_suppliers {
  id                  String                  @id @default(cuid())
  material_id         String
  organization_id     String
  supplier_id         String
  supplier_product_id String?
  created_at          DateTime?               @default(now()) @db.Timestamptz(6)
  updated_at          DateTime?               @updatedAt @db.Timestamptz(6)
  organization        organizations           @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  material            materials               @relation(fields: [material_id], references: [id], onDelete: Cascade)
  supplier            organization_facilities @relation(fields: [supplier_id], references: [id], onDelete: Cascade)

  @@unique([material_id, supplier_id], name: "materialSupplierKey")
  @@index([supplier_id], map: "material_suppliers_supplier_id_idx1")
  @@index([organization_id], map: "material_suppliers_organization_id_idx1")
  @@index([material_id], map: "material_suppliers_material_id_idx1")
}

model product_tag_assignments {
  id              Int      @id @default(autoincrement())
  product_id      String
  tag_id          Int
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt
  organization_id String

  organization organizations @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  product      products      @relation(fields: [product_id], references: [id], onDelete: Cascade)

  @@index([organization_id], map: "product_tag_assignments_organization_id_idx1")
  @@index([product_id], map: "product_tag_assignments_product_id_idx1")
}

model products_tags {
  id              Int      @id @default(autoincrement())
  organization_id String
  tag             String
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt

  organization organizations @relation(fields: [organization_id], references: [id], onDelete: Cascade)

	@@unique([organization_id, tag], name: "organization_product_tag_unique")
	@@index([organization_id], map: "product_tags_organization_id_idx1")
}

model product_materials {
  id                   String        @id @default(cuid())
  product_id           String
  material_id          String?
  material_supplier_id String?
  organization_id      String
  plm_id               String?
  yield                Float?
  weight               Float?
  unit_of_measure      String?
  placement            String?
  bom_section          String?
  metadata             Json?
  created_at           DateTime?     @default(now()) @db.Timestamptz(6)
  updated_at           DateTime?     @updatedAt @db.Timestamptz(6)
  organization         organizations @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  material             materials?    @relation(fields: [material_id], references: [id], onDelete: Cascade)
  product              products      @relation(fields: [product_id], references: [id], onDelete: Cascade)

  @@unique([material_id, product_id], name: "materialProductKey")
  @@index([plm_id, organization_id], map: "product_materials_plm_id_organization_id_idx1")
  @@index([material_id], map: "product_materials_material_id_idx1")
  @@index([organization_id], map: "product_materials_organization_id_idx1")
  @@index([product_id], map: "product_materials_product_id_idx1")
}

model organization_compliance {
  id                                        String                                       @id
  description                               String
  compliance_definition_name                String
  metadata                                  Json?
  created_at                                DateTime?                                    @default(now())
  updated_at                                DateTime?                                    @updatedAt
  organization_id                           String
  deleted                                   Boolean                                      @default(false)
  visible                                   Boolean                                      @default(true)
  compliance_definition_id                  String?
  compliance_definition                     compliance_definitions?                      @relation(fields: [compliance_definition_id], references: [id])
  organization                              organizations                                @relation(fields: [organization_id], references: [id])
  organization_compliance_ai_response_files organization_compliance_ai_response_files[]
  organization_compliance_ai_responses      organization_compliance_ai_responses[]
  notes                                     organization_compliance_notes[]
  question_bookmarks                        organization_compliance_question_bookmarks[]
  organization_compliance_responses         organization_compliance_responses[]
  statuses                                  organization_compliance_statuses[]
  compliance_responses                      compliance_responses[]

  @@unique([organization_id, compliance_definition_name], name: "orgIdCompNameKey")
  @@index([compliance_definition_id], map: "organization_compliance_compliance_definition_id_idx1")
  @@index([organization_id], map: "organization_compliance_organization_id_idx1")
}

model compliance_definitions {
  id                        String                         @id @default(cuid())
  name                      String                         @unique
  logo_url                  String
  surveys                   Json
  created_at                DateTime?                      @default(now())
  updated_at                DateTime?                      @updatedAt
  title                     String
  image_url                 String?
  metadata                  Json?
  order                     Int?
  version                   Int?
  visible                   Boolean                        @default(false)
  deleted                   Boolean                        @default(false)
  compliance_questions      compliance_questions[]
  compliance_section_groups compliance_section_groups[]
  sections                  compliance_sections[]
  organization_compliance   organization_compliance[]
  organization_compliances  organization_compliances_old[]
  compliance_responses      compliance_responses[]
}

model compliance_section_groups {
  id                         String                  @id @default(cuid())
  order                      Int
  title                      String
  compliance_definition_name String
  metadata                   Json?
  created_at                 DateTime?               @default(now())
  updated_at                 DateTime?               @updatedAt
  deleted                    Boolean                 @default(false)
  compliance_definition_id   String?
  compliance_definition      compliance_definitions? @relation(fields: [compliance_definition_id], references: [id], onDelete: Cascade)
  compliance_sections        compliance_sections[]
  compliance_responses       compliance_responses[]

  @@unique([compliance_definition_name, title], name: "compDefNameTitle")
  @@index([compliance_definition_id], map: "compliance_section_groups_compliance_definition_id_idx1")
}

model compliance_sections {
  id                                     String                                @id
  key                                    String
  title                                  String
  metadata                               Json?
  created_at                             DateTime?                             @default(now())
  updated_at                             DateTime?                             @updatedAt
  compliance_section_group_id            String
  order                                  Int
  compliance_definition_name             String
  dependency_expression                  String?
  compliance_section_dependency_chain_id String?
  deleted                                Boolean                               @default(false)
  compliance_definition_id               String?
  compliance_questions                   compliance_questions[]
  compliance_definition                  compliance_definitions?               @relation(fields: [compliance_definition_id], references: [id], onDelete: Cascade)
  compliance_section_dependency_chains   compliance_section_dependency_chains? @relation(fields: [compliance_section_dependency_chain_id], references: [id])
  section_group                          compliance_section_groups             @relation(fields: [compliance_section_group_id], references: [id], onDelete: Cascade)
  compliance_responses                   compliance_responses[]

  @@unique([compliance_section_group_id, key], name: "compSecGroupKey")
  @@unique([compliance_definition_name, key], name: "compDefNameSectionKey")
  @@index([compliance_definition_id], map: "compliance_sections_compliance_definition_id_idx1")
  @@index([compliance_section_dependency_chain_id], map: "compliance_sections_compliance_section_dependency_chain_id_idx1")
  @@index([compliance_section_group_id], map: "compliance_sections_compliance_section_group_id_idx1")
}

model compliance_questions {
  id                                      String                                       @id @default(cuid())
  key                                     String
  order                                   Int
  prompt                                  String
  component                               String
  tooltip                                 String?
  placeholder                             String?
  rubric                                  Json?
  options                                 Json?
  dependency_expression                   String?
  question_summary                        String?
  additional_context                      Json?
  created_at                              DateTime?                                    @default(now())
  updated_at                              DateTime?                                    @updatedAt
  compliance_section_id                   String
  coresponding_question                   String?
  compliance_definition_name              String
  dependencies                            Json?
  compliance_question_dependency_chain_id String?
  deleted                                 Boolean                                      @default(false)
  compliance_definition_id                String?
  compliance_definition                   compliance_definitions?                      @relation(fields: [compliance_definition_id], references: [id], onDelete: Cascade)
  compliance_question_dependency_chain    compliance_question_dependency_chains?       @relation(fields: [compliance_question_dependency_chain_id], references: [id])
  compliance_section                      compliance_sections                          @relation(fields: [compliance_section_id], references: [id], onDelete: Cascade)
  organization_compliance_ai_responses    organization_compliance_ai_responses[]
  notes                                   organization_compliance_notes[]
  question_bookmarks                      organization_compliance_question_bookmarks[]
  responses                               organization_compliance_responses[]
  compliance_responses                    compliance_responses[]

  @@unique([compliance_definition_name, key], name: "compDefNameKey")
  @@unique([compliance_section_id, key], name: "compSecKey")
  @@index([compliance_definition_id], map: "compliance_questions_compliance_definition_id_idx1")
  @@index([compliance_question_dependency_chain_id], map: "compliance_questions_compliance_question_dependency_chain__idx1")
  @@index([compliance_section_id], map: "compliance_questions_compliance_section_id_idx1")
}

model compliance_section_dependency_chains {
  id                          String                @id @default(cuid())
  dependency_chain            Json
  compliance_section_id       String
  compliance_section_key      String
  compliance_section_group_id String
  compliance_definition_name  String
  dependency_expression       String
  created_at                  DateTime?             @default(now())
  updated_at                  DateTime?             @updatedAt
  deleted                     Boolean               @default(false)
  compliance_sections         compliance_sections[]

  @@unique([compliance_section_group_id, compliance_section_id, compliance_definition_name], map: "defNameSecIdGrpId")
  @@unique([compliance_section_group_id, compliance_section_key, compliance_definition_name], name: "defNameSecKeyGrpId")
}

model compliance_question_dependency_chains {
  id                          String                 @id @default(cuid())
  dependency_chain            Json
  compliance_question_id      String                 @unique
  compliance_question_key     String
  compliance_section_id       String
  compliance_section_key      String
  compliance_section_group_id String
  compliance_definition_name  String
  dependency_expression       String
  created_at                  DateTime?              @default(now())
  updated_at                  DateTime?              @updatedAt
  deleted                     Boolean                @default(false)
  compliance_questions        compliance_questions[]

  @@unique([compliance_section_id, compliance_question_key, compliance_definition_name], name: "defNameSecIdQuestKey")
  @@unique([compliance_section_key, compliance_question_key, compliance_definition_name], name: "defNameSecKeyQuestKey")
  @@index([compliance_question_id])
  @@index([compliance_question_key])
  @@index([compliance_section_id])
  @@index([compliance_section_key])
  @@index([compliance_section_group_id])
  @@index([compliance_definition_name])
  @@index([compliance_section_id, compliance_question_key, compliance_definition_name], map: "section_question_definition_name_idx1")
  @@index([compliance_section_key, compliance_question_key, compliance_definition_name], map: "section_key_question_key_definition_name_idx1")
}

model organization_compliance_statuses {
  id                         String                  @id
  type                       String
  created_at                 DateTime?               @default(now())
  updated_at                 DateTime?               @updatedAt
  email                      String
  organization_compliance_id String
  deleted                    Boolean                 @default(false)
  organization_compliance    organization_compliance @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)

  @@index([organization_compliance_id], map: "organization_compliance_statuse_organization_compliance_id_idx1")
}

model organization_compliance_notes {
  id                         String                               @id
  note                       String
  created_at                 DateTime?                            @default(now())
  updated_at                 DateTime?                            @updatedAt
  compliance_question_id     String
  organization_compliance_id String
  deleted                    Boolean                              @default(false)
  metadata                   Json?
  files                      organization_compliance_note_files[]
  links                      organization_compliance_note_links[]
  compliance_question        compliance_questions                 @relation(fields: [compliance_question_id], references: [id])
  organization_compliance    organization_compliance              @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)

  @@index([compliance_question_id], map: "organization_compliance_notes_compliance_question_id_idx1")
  @@index([organization_compliance_id], map: "organization_compliance_notes_organization_compliance_id_idx1")
}

model organization_compliance_note_files {
  id                              String                        @id
  created_at                      DateTime?                     @default(now())
  updated_at                      DateTime?                     @updatedAt
  organization_compliance_note_id String
  organization_files_id           String
  deleted                         Boolean                       @default(false)
  note                            organization_compliance_notes @relation(fields: [organization_compliance_note_id], references: [id])
  organization_files              organization_files            @relation(fields: [organization_files_id], references: [id])

  @@index([organization_compliance_note_id], map: "organization_compliance_note__organization_compliance_note__idx")
  @@index([organization_files_id], map: "organization_compliance_note_files_organization_files_id_idx1")
}

model organization_compliance_note_links {
  id                              String                        @id
  url                             String
  created_at                      DateTime?                     @default(now())
  updated_at                      DateTime?                     @updatedAt
  organization_compliance_note_id String
  deleted                         Boolean                       @default(false)
  note                            organization_compliance_notes @relation(fields: [organization_compliance_note_id], references: [id])

  @@index([organization_compliance_note_id], map: "organization_compliance_note__organization_compliance_note_idx1")
}

model organization_compliance_question_bookmarks {
  id                         String                  @id
  email                      String
  created_at                 DateTime?               @default(now())
  updated_at                 DateTime?               @updatedAt
  compliance_question_id     String
  organization_compliance_id String
  deleted                    Boolean                 @default(false)
  compliance_question        compliance_questions    @relation(fields: [compliance_question_id], references: [id], onDelete: Cascade)
  organization_compliance    organization_compliance @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)

  @@unique([email, compliance_question_id], name: "emailQuestId")
  @@index([compliance_question_id], map: "organization_compliance_question_boo_compliance_question_id_idx")
  @@index([organization_compliance_id], map: "organization_compliance_question_organization_compliance_id_idx")
}

model organization_compliance_responses {
  id                         String                  @id
  created_at                 DateTime?               @default(now())
  updated_at                 DateTime?               @updatedAt
  compliance_question_id     String
  organization_compliance_id String
  additional_context         Json?
  value                      Json?
  deleted                    Boolean                 @default(false)
  compliance_question        compliance_questions    @relation(fields: [compliance_question_id], references: [id], onDelete: Cascade)
  organization_compliance    organization_compliance @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)
  compliance_responses       compliance_responses[]

  @@unique([organization_compliance_id, compliance_question_id], name: "orgCompQuestId")
  @@index([compliance_question_id], map: "organization_compliance_responses_compliance_question_id_idx1")
  @@index([organization_compliance_id], map: "compliance_responses_organization_compliance_id_idx1")
}

model organization_compliance_ai_responses {
  id                         String                                      @id
  justification              String
  references                 Json?
  sources                    Json?
  created_at                 DateTime?                                   @default(now())
  updated_at                 DateTime?                                   @updatedAt
  compliance_question_id     String
  organization_compliance_id String
  organization_id            String
  answer                     Json?
  additional_context         Json?
  deleted                    Boolean                                     @default(false)
  files                      organization_compliance_ai_response_files[]
  compliance_questions       compliance_questions                        @relation(fields: [compliance_question_id], references: [id], onDelete: Cascade)
  organization_compliance    organization_compliance                     @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)
  organization               organizations                               @relation(fields: [organization_id], references: [id], onDelete: Cascade)
  compliance_responses       compliance_responses[]

  @@unique([organization_compliance_id, compliance_question_id], name: "orgCompQuestId")
  @@index([compliance_question_id], map: "organization_compliance_ai_response_compliance_question_id_idx1")
  @@index([organization_id], map: "organization_compliance_ai_responses_organization_id_idx1")
  @@index([organization_compliance_id], map: "organization_ai_responses_organization_compliance_id_idx1")
}

model organization_compliance_ai_response_files {
  id                                     String                               @id
  created_at                             DateTime?                            @default(now())
  updated_at                             DateTime?                            @updatedAt
  organization_files_id                  String
  organization_compliance_ai_response_id String
  organization_compliance_id             String
  organization_id                        String
  deleted                                Boolean                              @default(false)
  ai_response                            organization_compliance_ai_responses @relation(fields: [organization_compliance_ai_response_id], references: [id], onDelete: Cascade, map: "org_comp_ai_response")
  organization_compliance                organization_compliance              @relation(fields: [organization_compliance_id], references: [id], onDelete: Cascade)
  file                                   organization_files                   @relation(fields: [organization_files_id], references: [id], onDelete: Cascade)
  organization                           organizations                        @relation(fields: [organization_id], references: [id])

  @@unique([organization_compliance_id, organization_files_id], name: "orgCompFileId")
  @@index([organization_compliance_ai_response_id], map: "organization_compliance_ai_re_organization_compliance_ai_r_idx1")
  @@index([organization_files_id], map: "organization_compliance_ai_response__organization_files_id_idx1")
  @@index([organization_id], map: "organization_compliance_ai_response_files_organization_id_idx1")
  @@index([organization_compliance_id], map: "organization_compliance_id_idx1")
}

model climatiq_actvities {
  id                            String  @id
  activity_id                   String
  name                          String
  category                      String
  sector                        String
  source                        String
  source_link                   String
  source_dataset                String
  uncertainty                   Int?
  year                          Int
  year_released                 Int
  region                        String
  region_name                   String
  description                   String
  unit_type                     String
  unit                          String?
  source_lca_activity           String
  data_quality_flags            Json
  access_type                   String
  supported_calculation_methods Json
  factor                        String?
  factor_calculation_method     String?
  factor_calculation_origin     String?
  constituent_gases             Json?
  data_version                  Json
  data_version_information      Json
}

view compliance_responses {
  organization_compliance_id             String?
  organization_id                        String?
  compliance_question_id                 String                                @id
  compliance_section_id                  String?
  compliance_section_group_id            String?
  compliance_definition_name             String?
  organization_compliance_ai_response_id String?
  organization_compliance_response_id    String?
  ai_response                            organization_compliance_ai_responses? @relation(fields: [organization_compliance_ai_response_id], references: [id], onDelete: Cascade)
  org_response                           organization_compliance_responses?    @relation(fields: [organization_compliance_response_id], references: [id], onDelete: Cascade)
  organization_compliance                organization_compliance?              @relation(fields: [organization_compliance_id], references: [id])
  compliance_definitions                 compliance_definitions?               @relation(fields: [compliance_definition_name], references: [name])
  compliance_section_groups              compliance_section_groups?            @relation(fields: [compliance_section_group_id], references: [id])
  compliance_sections                    compliance_sections?                  @relation(fields: [compliance_section_id], references: [id])
  compliance_questions                   compliance_questions?                 @relation(fields: [compliance_question_id], references: [id])
  organization                           organizations?                        @relation(fields: [organization_id], references: [id])

  @@unique([organization_compliance_id, compliance_question_id], name: "orgCompQuestId")
  @@index([organization_id])
  @@index([organization_compliance_id])
  @@index([compliance_definition_name])
  @@index([compliance_question_id])
  @@index([compliance_section_id])
  @@index([compliance_section_group_id])
  @@index([organization_compliance_ai_response_id])
  @@index([organization_compliance_response_id])
  @@index([organization_id, compliance_question_id, compliance_section_id, compliance_section_group_id, compliance_definition_name, organization_compliance_ai_response_id, organization_compliance_response_id], name: "orgCompFullIDX")
}

view organization_claims_view {
  facility_id            String        @id
  facility_name          String?
  address_line_1         String?
  address_line_2         String?
  city                   String?
  state_province         String?
  postal_code            String?
  country                String?
  supplier               Boolean
  claim_id               String?
  claim_name             String?
  claim_level            claim_levels?
  claim_type             claim_types?
  organization_file_id   String?
  organization_file_name String?
  organization_file_type file_types?
  mimetype               String?
  effective_start_date   DateTime?
  effective_end_date     DateTime?
  expires_at             DateTime?
  organization_name      String
}

view suppliers_view {
  id                      String                   @id
  organization_name       String?
  organization_id         String?
  name                    String?
  address_line_1          String?
  address_line_2          String?
  city                    String?
  state_province          String?
  postal_code             String?
  metadata                Json?
  supplier                Boolean?
  supplier_tier           Int?
  organization_facilities organization_facilities? @relation(fields: [id], references: [id])
}

enum facility_types {
  OFFICE
  LOCATION
  WAREHOUSE
  DISTRIBUTION_CENTER
  MANUFACTURING
  OTHER
}

enum integration_service_type {
  provider
  platform
  core
}

enum survey_types {
  JOURNEY
  FOOTPRINT
  ENRICHMENT
  SOLUTION
  TEST
  COMPLIANCE
}

enum survey_status_types {
  user_submitted
  cold_submitted
  draft
}

enum component_definition_types {
  UNKNOWN
  FORM
  NAVIGATION_SIDE
  NAVIGATION_HEADER
  NAVIGATION_FOOTER
  DATAGRID
  TEST
}

enum claim_levels {
  ORGANIZATION
  SUPPLIER
  PRODUCT
  MATERIAL
}

enum file_types {
  SUPPLIER_STATEMENT
  SUPPLIER_AGREEMENT
  AUDIT_REPORT
  CERTIFICATE
  TEST_REPORT
  STATEMENT
  ASSESSMENT
  PURCHASE_ORDER
  BILL_OF_MATERIALS
  POLICY
  SCOPE_CERTIFICATE
  TRANSACTION_CERTIFICATE
  OTHER
}

enum claim_types {
  THIRD_PARTY
  INTERNAL
  TEST
}

enum emissions_categories {
  ELECTRICITY
  FUEL
  WASTE
  WATER
  TRANSPORTATION
  OTHER
  TEST
  NATURAL_GAS
}
